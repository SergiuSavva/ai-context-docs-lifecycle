---
description: Documentation guidelines and maintenance
globs:
  - "**/*.md"
  - "docs/**/*"
---

# Documentation Guide

> **Template**: Customize for your documentation needs

---

## Documentation Philosophy

### Principles

1. **Document decisions, not descriptions** - Why, not just what
2. **Keep docs close to code** - AGENTS.md in feature directories
3. **Update or delete** - Stale docs are worse than no docs
4. **AI-first formatting** - Structured for machine parsing

### The Essential Documents

| Document | Purpose | Update Frequency |
|----------|---------|------------------|
| `AGENTS.md` | AI context | When patterns change |
| `docs/INDEX.md` | Human navigation | When structure changes |
| `docs/TASKS.md` | Progress tracking | Daily/per-task |
| `.cursor/rules/*.mdc` | AI rules | When conventions change |
| `docs/features/*/` | Feature docs | Per feature change |

---

## AGENTS.md Pattern

### Root AGENTS.md

Located at project root - loaded for every AI interaction:

```markdown
# Project - AI Agent Instructions

## Quick Start
[Essential commands]

## Tech Stack
[Key technologies]

## Architecture
[High-level patterns]

## Code Style
[Critical conventions]

## Need Help?
[Links to detailed docs]
```

### Feature AGENTS.md

Located in feature directories for context-specific guidance:

```markdown
# Feature: [Name]

## Overview
[What this feature does]

## Key Files
- `components/` - [Description]
- `hooks/` - [Description]

## Patterns
- [Feature-specific pattern 1]
- [Feature-specific pattern 2]

## Dependencies
- Requires: [Other features]
- Used by: [Dependents]
```

---

## Feature Documentation

### Folder Structure

```
docs/features/<feature-name>/
â”œâ”€â”€ README.md              # Overview + code touchpoints
â”œâ”€â”€ user-stories.md        # User stories + acceptance criteria
â”œâ”€â”€ tasks.md               # Implementation checklist
â””â”€â”€ test-scenarios.feature # Gherkin scenarios (optional)
```

### README.md Template

```markdown
---
feature_slug: feature-name
status: in_progress  # draft | in_progress | implemented
last_updated: 2025-01-01
tags: [mvp, feature-type]
---

# Feature: [Name]

## Overview
[2-3 sentences describing the feature]

## Goals
- Goal 1
- Goal 2

## User Impact
[Who benefits and how]

## Code Touchpoints

### Frontend
- Routes: `app/feature/page.tsx`
- Components: `features/feature/components/`
- Hooks: `features/feature/hooks/`

### Backend
- API: `api/feature/`
- Database: `table_name`

## Dependencies

**Requires:** [Prerequisites]
**Enables:** [What this unblocks]
```

### user-stories.md Template

```markdown
# User Stories: [Feature]

## Actors
- **User**: [Description]
- **Admin**: [Description]

---

## Stories

### US-001: [Story Title]

**As a** [actor]
**I want** [goal]
**So that** [benefit]

#### Acceptance Criteria
- [ ] Given [context], when [action], then [result]
- [ ] Given [context], when [action], then [result]

#### Notes
- [Implementation notes]
- [Edge cases]

---

### US-002: [Story Title]
[Repeat pattern...]
```

### tasks.md Template

```markdown
# Tasks: [Feature]

## Summary
| Phase | Tasks | Done | Progress |
|-------|-------|------|----------|
| Setup | 3 | 0 | 0% |
| Core | 5 | 0 | 0% |
| Polish | 2 | 0 | 0% |

---

## Phase 1: Setup

- [ ] **TASK-001**: [Task description]
  - Files: `path/to/file.ts`
  - Depends: None
  
- [ ] **TASK-002**: [Task description]
  - Files: `path/to/file.ts`
  - Depends: TASK-001

---

## Phase 2: Core Implementation

- [ ] **TASK-003**: [Task description]
  - Files: `path/to/file.ts`
  - Depends: TASK-001, TASK-002
```

---

## Task Tracking (TASKS.md)

### Global Task Index

```markdown
# Project - Global Task Index

> Single source of truth for implementation tasks

## Quick Summary

| Feature | Status | Tasks | Done | Progress |
|---------|--------|-------|------|----------|
| Auth | âœ… Done | 10 | 10 | 100% |
| Search | ðŸ”„ WIP | 15 | 8 | 53% |
| Booking | â³ Planned | 20 | 0 | 0% |
| **TOTAL** | | **45** | **18** | **40%** |

---

## Development Phases

| Phase | Goal | Status |
|-------|------|--------|
| 1 | Core features | ðŸ”„ In Progress |
| 2 | Extended features | â³ Planned |
| 3 | Polish | â³ Planned |

---

## Feature Details

### Authentication
[Link to feature tasks]

### Search
[Link to feature tasks]
```

---

## Architecture Decision Records (ADRs)

### ADR Template

```markdown
# ADR-XXX: [Title]

> **Status:** Proposed | Accepted | Deprecated
> **Date:** YYYY-MM-DD

## Context
[What is the issue or decision that prompted this?]

## Decision
[What is the decision made?]

## Consequences

### Positive
- [Benefit 1]
- [Benefit 2]

### Negative
- [Drawback 1]
- [Drawback 2]

## Alternatives Considered
[What other options were evaluated?]
```

---

## Documentation Maintenance

### When to Update

| Trigger | Update |
|---------|--------|
| New pattern established | Add to rules |
| Architecture change | Update AGENTS.md |
| Feature completed | Update feature docs |
| Task finished | Update TASKS.md |
| Breaking change | Add to changelog |

### Documentation Review Checklist

- [ ] AGENTS.md reflects current project state
- [ ] Rules match actual patterns used
- [ ] TASKS.md has current progress
- [ ] Stale docs identified and removed
- [ ] Links are valid

---

## Markdown Formatting

### For AI Parsing

```markdown
# Use clear hierarchy

## Section with context

### Subsection

| Structured | Data |
|------------|------|
| In tables | When possible |

- Bullet points for lists
- Keep items concise

\`\`\`language
// Code blocks with language
\`\`\`
```

### Avoid

- Long paragraphs without structure
- Deeply nested content (>3 levels)
- Inline code for long snippets
- Ambiguous references

---

## Related Rules

- `project-architecture.mdc` - Project structure
- `coding-patterns.mdc` - Code conventions
