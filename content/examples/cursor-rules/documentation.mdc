---
description: Documentation maintenance guidelines for SpaceBooker
globs:
  - "docs/**/*.md"
  - "**/README.md"
  - "**/AGENTS.md"
---

# SpaceBooker - Documentation Guidelines

> **REFERENCE ONLY**: This is a filled-in example showing the expected format.
> To create your own file, use `../../templates/cursor-rules/documentation.mdc`.
> Do NOT copy this content directly - adapt the STRUCTURE, not the CONTENT.

---

## Documentation Structure

```
docs/
â”œâ”€â”€ INDEX.md              # Navigation hub for humans
â”œâ”€â”€ TASKS.md              # Global progress tracking
â”œâ”€â”€ specs/                # Feature specifications
â”‚   â”œâ”€â”€ README.md         # Specs index
â”‚   â”œâ”€â”€ booking-history.md
â”‚   â””â”€â”€ _archive/         # Completed specs
â”œâ”€â”€ features/             # Feature documentation
â”‚   â”œâ”€â”€ README.md         # Feature index
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ bookings/
â”‚   â””â”€â”€ spaces/
â””â”€â”€ decisions/            # Architecture Decision Records
    â”œâ”€â”€ README.md         # ADR index
    â”œâ”€â”€ 001-tech-stack.md
    â””â”€â”€ 002-auth-nextauth.md
```

---

## When to Update Documentation

| Event | Update |
|-------|--------|
| New file created | Code touchpoints in feature README |
| Task completed | Checkbox in tasks.md + TASKS.md |
| Decision made | New ADR in docs/decisions/ |
| Pattern established | Add to .cursor/rules/*.mdc |
| Architecture change | Update AGENTS.md |
| Feature complete | Status in docs/features/README.md |
| Spec complete | Archive to docs/specs/_archive/ |

---

## AI Agent Responsibilities

When completing a task, AI should:

1. **Mark task complete** in `docs/features/<feature>/tasks.md`
2. **Update progress** in `docs/TASKS.md`
3. **Update code touchpoints** if files added/moved
4. **Note decisions** that should become ADRs
5. **Update AGENTS.md** if patterns changed

---

## Document Templates

### TASKS.md Entry

```markdown
| Feature | Status | Tasks | Done | Progress |
|---------|--------|-------|------|----------|
| Auth | âœ… Done | 8 | 8 | 100% |
| Bookings | ğŸ”„ Active | 10 | 5 | 50% |
| Payments | â³ Pending | 6 | 0 | 0% |
```

### Feature Status Update

```markdown
## Booking History

**Status:** âœ… Complete
**Last Updated:** 2025-01-15

Completed all user stories. Receipt generation working.
```

### ADR Trigger Checklist

Create an ADR when:
- [ ] Choosing between technologies
- [ ] Establishing a new pattern
- [ ] Making a trade-off decision
- [ ] Introducing a breaking change
- [ ] Deprecating functionality

---

## Writing Guidelines

### Be Concise
```markdown
<!-- BAD -->
The booking history feature allows users to view all of their past bookings
in a comprehensive list format that includes filtering capabilities.

<!-- GOOD -->
Users view and filter their booking history.
```

### Use Tables for Structure
```markdown
<!-- BAD -->
The BookingCard component is in features/bookings/components/. The 
useBookings hook is in features/bookings/hooks/.

<!-- GOOD -->
| Component | Location |
|-----------|----------|
| BookingCard | `features/bookings/components/` |
| useBookings | `features/bookings/hooks/` |
```

### Link Related Documents
```markdown
## Related
- [User Stories](./user-stories.md)
- [Tasks](./tasks.md)
- [ADR: Pagination](/docs/decisions/005-pagination.md)
```

---

## Code Touchpoints Format

```markdown
## Code Touchpoints

### Frontend

| Type | Location |
|------|----------|
| Routes | `app/(protected)/bookings/page.tsx` |
| Components | `features/bookings/components/BookingList.tsx` |
| Hooks | `features/bookings/hooks/useBookings.ts` |

### Backend

| Type | Location |
|------|----------|
| API | `app/api/bookings/route.ts` |
| Database | `bookings` table |
| Services | `lib/bookings/queries.ts` |
```

---

## Archive Process

When a feature is complete:

1. Update feature status to "Complete" in `docs/features/README.md`
2. Update `docs/TASKS.md` to show 100%
3. Move PRD-lite to `docs/specs/_archive/`
4. Keep feature docs (README, user-stories) for reference
5. Create ADR if significant decisions were made

---

## Freshness Rules

| Document | Max Age | Action if Stale |
|----------|---------|-----------------|
| TASKS.md | 1 week | Update or mark complete |
| Feature tasks.md | 1 week | Update progress |
| AGENTS.md | 1 month | Review and update |
| ADRs | Never stale | Mark deprecated if superseded |
| Specs | Until complete | Archive when done |
