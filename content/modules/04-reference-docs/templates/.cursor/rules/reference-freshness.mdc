---
description: Documentation freshness enforcement - ensure docs stay current
globs:
  - "**/*.md"
  - "docs/**/*"
  - "AGENTS.md"
alwaysApply: false
---

# Documentation Freshness

> **Template**: Copy to `.cursor/rules/reference-freshness.mdc`
> This rule activates when working with markdown files.

## Core Rule: Update or Delete

Stale documentation is worse than no documentation. Every reference doc must be current.

## After Completing Standard or Complex Flow

AI MUST check documentation freshness:

### 1. AGENTS.md

Check these sections for accuracy:

| Section | Verify |
|---------|--------|
| Stack | Any new tech added? |
| Structure | Any files moved/added? |
| Context Loading | Any new doc references? |
| Boundaries | Any new rules? |

If outdated: **Update immediately**

### 2. Feature README

If feature was modified:

| Check | Action if Stale |
|-------|-----------------|
| Code Touchpoints | Update file paths |
| How It Works | Update explanation |
| Usage examples | Update code |

If feature was deleted: **Delete README**

### 3. INDEX.md

| Check | Action |
|-------|--------|
| Feature links | Update or remove broken links |
| ADR links | Add new ADRs |
| Status table | Update feature status |

## Update Triggers

### AGENTS.md

| Event | Update |
|-------|--------|
| New tech added | Stack |
| Structure change | Structure |
| New doc references | Context Loading |
| New boundary rules | Boundaries |

### Feature README

| Event | Update |
|-------|--------|
| Feature complete | Create README |
| Behavior changed | How It Works |
| Files moved | Code Touchpoints |
| Feature removed | Delete README |

## Document Types

| Type | Location | Lifecycle |
|------|----------|-----------|
| AGENTS.md | Root | Evergreen (always current) |
| Feature README | docs/features/ | Evergreen (update or delete) |
| ADR | docs/decisions/ | Permanent (never modify) |
| Specs | specs/ | Ephemeral (delete when done) |

## When Completing a Feature

```
AI Checklist:

1. [ ] AGENTS.md is accurate
2. [ ] Feature README exists and is accurate
3. [ ] INDEX.md links are valid
4. [ ] ADR created if significant decision
5. [ ] Spec folder deleted
```

## Signal When Docs Need Review

If unsure about freshness:

```
"Documentation may need review:
- AGENTS.md: [Section X may be outdated]
- Feature README: [File Y referenced but may have moved]

Please verify these sections are current."
```
